<div class="taskbar">
  <div class="taskbar-left">
    <div class="taskbar-windows">
      <div 
        *ngFor="let window of windows"
        class="taskbar-window-icon"
        [class.active]="!window.minimized"
        (click)="restoreWindow(window.id)"
        [title]="getWindowTitle(window.type)"
      >
        <span class="window-icon-emoji">
          {{ window.type === 'help' ? 'ğŸ“–' : window.type === 'encode' ? 'ğŸ”’' : window.type === 'decode' ? 'ğŸ”“' : window.type === 'files' ? 'ğŸ“' : window.type === 'settings' ? 'âš™ï¸' : window.type === 'browser' ? 'ğŸŒ' : 'ğŸ“„' }}
        </span>
        <span class="window-icon-label">{{ getWindowTitle(window.type) }}</span>
      </div>
    </div>
  </div>
  <div class="taskbar-center">
    <app-start-menu (openWindow)="onStartMenuOpen($event)"></app-start-menu>
  </div>
  <div class="taskbar-right">
    <div class="taskbar-icon" (click)="toggleWifi($event)" title="WiFi">ğŸ“¶</div>
    <div class="taskbar-icon" (click)="toggleVolume($event)" title="Sound">ğŸ”Š</div>
    <div class="taskbar-time">{{ currentTime }}</div>
    
    <!-- WiFi Popup -->
    <div class="system-popup wifi-popup" *ngIf="showWifiPopup" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>WiFi Networks</h3>
        <button class="popup-close" (click)="showWifiPopup = false">Ã—</button>
      </div>
      <div class="wifi-list">
        <div class="wifi-item" *ngFor="let network of wifiNetworks" 
             [class.connected]="network.connected"
             (click)="connectToWifi(network)">
          <span class="wifi-icon">{{ getWifiIcon(network.signal) }}</span>
          <div class="wifi-info">
            <div class="wifi-name">{{ network.name }}</div>
            <div class="wifi-status" *ngIf="network.connected">Connected</div>
          </div>
          <span class="wifi-lock" *ngIf="network.secured">ğŸ”’</span>
        </div>
      </div>
      <div class="popup-footer">
        <small>Simulated WiFi - connects to actual networks</small>
      </div>
    </div>
    
    <!-- Volume Popup -->
    <div class="system-popup volume-popup" *ngIf="showVolumePopup" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>Volume</h3>
        <button class="popup-close" (click)="showVolumePopup = false">Ã—</button>
      </div>
      <div class="volume-control">
        <div class="volume-icon-display">{{ getVolumeIcon() }}</div>
        <input 
          type="range" 
          class="volume-slider" 
          min="0" 
          max="100" 
          [(ngModel)]="volumeLevel"
          (input)="onVolumeChange()"
        >
        <div class="volume-level">{{ volumeLevel }}%</div>
      </div>
      <div class="popup-footer">
        <small>Controls system volume</small>
      </div>
    </div>
  </div>
</div>

